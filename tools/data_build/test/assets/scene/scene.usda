#usda 1.0
(
    metersPerUnit = 1
    upAxis = "Y"
    defaultPrim = "Scene"
)

def Scope "Scene"
{
    def Xform "LightEntity" (
        prepend apiSchemas = ["OmniLightComponentAPI"]
    ) {
        matrix4d xformOp:transform = ( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 0, 1) )
        uniform token[] xformOpOrder = ["xformOp:transform"]

        rel omnilight:source = [
            </Scene/LightEntity/Light>
        ]

        uniform bool omnilight:castShadow = false
        uniform float omnilight:boundingRadius = 10.0

        def SphereLight "Light"
        {
            float inputs:radius = 0.5
            float inputs:intensity = 5.0
            color3f inputs:color = (1.0, 1.0, 0.0)
        }

        def Xform "Child"
        {
            matrix4d xformOp:transform = ( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 0, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }
    }

    def Xform "MeshEntity" (
        prepend apiSchemas = ["RenderMeshComponentAPI", "RenderMaterialListComponentAPI"]
    ) {
        float3 xformOp:translate = (10, 5, 0)
        uniform token[] xformOpOrder = ["xformOp:translate"]

        rel rendermesh:geometry = [
            </Scene/MeshEntity/Geometry>
        ]

        rel rendermateriallist:materials = [
            </Scene/MeshEntity/Materials/FirstMaterial>
        ]

        def "Geometry" (
            references = @../geometry/monkey.usda@
        ) {}

        def "Materials"
        {
            def "FirstMaterial" (
                references = @../materials/material.usda@
            ) {}
        }
    }
}